[pytest]
# Only collect tests from the real test suite (not from scripts/ helpers).
testpaths = tests

# Avoid import-name collisions between `backend/` (the app package) and
# `tests/backend/` (a test folder). This makes pytest import tests by file path.
# Also explicitly ignore `scripts/` to prevent collecting helper files like `*_test.py`
# that may require optional deps (e.g. pyspark).
addopts = --import-mode=importlib -m "not integration" --ignore=scripts

# Keep pytest out of large / non-test directories.
norecursedirs =
  scripts
  node_modules
  frontend/node_modules
  backend/sessions
  sessions
  tmp